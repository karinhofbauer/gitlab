<html>
    <head>
        <title>Git - branching</title>
        <link rel="stylesheet" href="../style.css" type="text/css">
    </head>
    
    <body>
        <h2>Git - branching</h2>
        
        <h3>Setting up Git</h3>
        <p>
            Now we have managed to create a nice repository with the amount of almost uncountable two files. But what is a repository without branches? Boring, right.<br/>
            So let us create a branch with:
        </p>
        <div class="source">
            $ git branch newbranch
        </div>
        <p>
            Did it really happen? Is there a new branch? And is it called newbranch?<br/>
            Verify with:
        </p>
        <div class="source">
            git branch
        </div>
        <p class="wrap_branches">
            This command lists all the branches in the repository, marking the current one, which is the one you are working against, with an asterix. In our case this would be the branch called <i>master</i>
        </p>
        <div class="branches">(1)-(2)-(3)-(4*) -- master<br/>
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<br/>
                                              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newbranch  
        </div>      
        <p>
            Now switch to the newbranch and look at the branch list.
        </p>
        <div class="source">
            $ git checkout newbranch<br/>
            $ git branch
        </div>
        <p>
            In the list we get from the <i>branch</i> command the asterix should have been switched from master to newbranch, indicating that newbranch is the one we are currently working with.
        </p>
        <p>
            Now create another html file called secondpage.html, maybe with a yellow div on it, add it and commit it.
        </p>
        <div class="branches">(1)-(2)-(3)-(4*) -- master<br/>
                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<br/>
                                                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (5*) -- newbranch  
        </div>
        <p>
            Add a link to the sedond page to the firstpage.html file. Are you tired of all the <i>git add</i> commands we have to write to add our files to the commit?<br/>
Here comes a small option, that helps us in the current case:            
        </p>
        <div class="source">
            $ git commit -a -m ”Added link to second page.”
        </div>
        <p>
            The option <i>- a</i> on the <i>commit</i> command takes all modified and deleted files and commits them without us running <i>git add</i> first. Note that is does not include new files, those remain unstaged until manually added.
        </p>
        <div class="branches">(1)-(2)-(3)-(4*) -- master<br/>
                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<br/>
                                                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (5)-(6*) -- newbranch  
        </div>
        <p>
            Add yet another html file (reuse the red color) but do not yet add it.<br/><br/>    

            Check the status of the file. Is it untracked? Good. Now switch branches from newbranch to master, and look at the result. <br/><br/>

            Has the secondpage.html dissappeared? Yes? Perfect. After all we added it to another branch. Does the firstpage contain a link to the second page? It doesn't? Excellent. But the untracked file ist still there. We didn't add it anywhere, we didn't commit anything, so this is how it should be.
        </p>
        <p>
        Switch between the branches to see how they differ.
        </p>
        <p>
        Bring up the gitk tool to visualize the repository.
        </p>
        <div class="source">
            $ gitk --all
        </div>        
        <p>
            Remove the untracked file from the repository.
        </p>
        <div class="source">
            $ git clean  -f
        </div>
        <p>
            Git clean is your friend. When you finally, after adding and removing and moving and updating files came to the point of having this giant list of untracked files, get git clean for the rescue. 
            This command runs recursively through the repository (starting from your current point) removing files that are untracked, ignored and/or other depending on the options you provided.
        </p>
        
    </body>
</html>